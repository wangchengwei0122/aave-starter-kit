@import "tailwindcss";
@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));



@theme {
  /* Colors - Semantic Mapping */

  --color-background: var(--bg-app);
  
  --color-foreground: var(--text-primary);
  
  --color-card: var(--bg-surface);
  --color-card-foreground: var(--text-primary);
  
  --color-popover: var(--bg-elevated);
  --color-popover-foreground: var(--text-primary);
  
  --color-primary: var(--bg-primary);
  --color-primary-foreground: var(--text-inverted);
  
  --color-secondary: var(--bg-secondary);
  --color-secondary-foreground: var(--text-primary);
  
  --color-muted: var(--bg-muted);
  --color-muted-foreground: var(--text-muted);
  
  --color-accent: var(--bg-accent);
  --color-accent-foreground: var(--text-primary);
  
  --color-destructive: var(--state-danger);
  --color-destructive-foreground: var(--text-inverted);
  
  --color-border: var(--border-default);
  --color-input: var(--border-subtle);
  --color-ring: var(--border-strong);
  
  /* Semantic Colors Extension */
  --color-bg-app: var(--bg-app);
  --color-bg-surface: var(--bg-surface);
  --color-bg-panel: var(--bg-panel);
  --color-bg-elevated: var(--bg-elevated);
  
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-text-inverted: var(--text-inverted);
  
  --color-border-default: var(--border-default);
  --color-border-subtle: var(--border-subtle);
  --color-border-strong: var(--border-strong);
  
  /* DeFi Specific */
  --color-defi-apy-pos: var(--defi-apy-pos);
  --color-defi-apy-neg: var(--defi-apy-neg);
  
  --color-defi-risk-low: var(--defi-risk-low);
  --color-defi-risk-mid: var(--defi-risk-mid);
  --color-defi-risk-high: var(--defi-risk-high);
  
  --color-defi-health-safe: var(--defi-health-safe);
  --color-defi-health-warn: var(--defi-health-warn);
  --color-defi-health-liq: var(--defi-health-liq);

  /* Radius */
  --radius-radius: var(--radius-card);
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
}

:root {
  /* 
   * Color System - Light Mode
   * Calm, Institutional, Precise
   * Neutrals: Hue 220, Saturation <= 6% (Perceptually Neutral)
   */
  
  /* Backgrounds - Elevation Ladder */
  --bg-app: hsl(220 6% 94%);         /* Foundation (Darker than surface) */
  --bg-surface: hsl(0 0% 100%);      /* Card Base (Pure White) */
  --bg-panel: hsl(220 6% 97%);       /* Secondary containers/Sidebars */
  --bg-elevated: hsl(0 0% 100%);     /* Popovers (Relies on Shadow) */
  
  --bg-primary: hsl(220 20% 12%);    /* Deep Navy Soft Ink */
  --bg-secondary: hsl(220 6% 86%);   /* Button secondary */
  --bg-muted: hsl(220 6% 92%);       /* Muted areas */
  --bg-accent: hsl(220 6% 90%);      /* Interaction hover */

  /* Typography - Soft Ink (No pure black) */
  --text-primary: hsl(220 20% 12%);  /* Dark Navy Grey */
  --text-secondary: hsl(220 10% 40%); /* Neutral Grey */
  --text-muted: hsl(220 8% 55%);     /* Muted metadata */
  --text-inverted: hsl(0 0% 100%);   /* White */

  /* Borders */
  --border-default: hsl(220 8% 90%); /* Structural */
  --border-subtle: hsl(220 8% 94%);  /* Dividers */
  --border-strong: hsl(220 10% 40%); /* Active focus */

  /* State Colors - Tier A (Action/Emphasis) */
  /* Moderate saturation, clear intent */
  --state-success: hsl(150 40% 40%);
  --state-warning: hsl(35 70% 50%);  /* Darker Gold */
  --state-danger: hsl(0 60% 55%);
  --state-info: hsl(210 60% 50%);

  /* DeFi Colors - Tier B (Data/Muted) */
  /* Lower saturation for information density */
  --defi-apy-pos: hsl(150 30% 45%);
  --defi-apy-neg: hsl(0 40% 60%);
  
  --defi-risk-low: hsl(150 30% 45%);       /* Safe */
  --defi-risk-mid: hsl(35 60% 50%);        /* Warning */
  --defi-risk-high: hsl(0 40% 60%);        /* Danger */
  
  --defi-health-safe: hsl(150 30% 45%);
  --defi-health-warn: hsl(35 60% 50%);
  --defi-health-liq: hsl(0 40% 60%);

  /* Radius (Preserved) */
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-card: 0.75rem;
}

.dark {
  /* 
   * Color System - Dark Mode
   * Obsidian, Depth, Soft-White
   * Neutrals: Hue 220, Saturation <= 10%
   */

  /* Backgrounds - Elevation Ladder */
  --bg-app: hsl(220 10% 6%);         /* Deep Obsidian */
  --bg-surface: hsl(220 8% 10%);     /* Card Base (+4L) */
  --bg-panel: hsl(220 8% 14%);       /* Sidebars (+4L) */
  --bg-elevated: hsl(220 8% 18%);    /* Popovers (+4L) */

  --bg-primary: hsl(220 10% 94%);    /* Soft White */
  --bg-secondary: hsl(220 8% 16%);   /* Button secondary */
  --bg-muted: hsl(220 8% 16%);       /* Muted foundations */
  --bg-accent: hsl(220 8% 22%);      /* Interaction hover */

  /* Typography - Soft White (No pure white text) */
  --text-primary: hsl(220 10% 94%);  /* Soft White */
  --text-secondary: hsl(220 8% 65%); /* Cool Grey */
  --text-muted: hsl(220 6% 45%);     /* Darker Grey */
  --text-inverted: hsl(220 10% 6%);  /* Deep Obsidian */

  /* Borders */
  --border-default: hsl(220 8% 20%);
  --border-subtle: hsl(220 8% 14%);
  --border-strong: hsl(220 8% 65%);

  /* State Colors - Tier A (Action) */
  --state-success: hsl(150 40% 50%); /* Slightly brighter for dark mode */
  --state-warning: hsl(35 70% 50%);
  --state-danger: hsl(0 60% 65%);
  --state-info: hsl(210 60% 60%);

  /* DeFi Colors - Tier B (Data) */
  /* Muted, readable against dark bg */
  --defi-apy-pos: hsl(150 25% 50%);
  --defi-apy-neg: hsl(0 35% 65%);

  --defi-risk-low: hsl(150 25% 50%);
  --defi-risk-mid: hsl(35 60% 55%);
  --defi-risk-high: hsl(0 35% 65%);
  
  --defi-health-safe: hsl(150 25% 50%);
  --defi-health-warn: hsl(35 60% 55%);
  --defi-health-liq: hsl(0 35% 65%);
}

@layer base {
  * {
    @apply border-border-default outline-ring/50;
  }
  body {
    @apply bg-bg-app text-text-primary antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}
